@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using Check.Models
@model Check.Models.Signup
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>SignUp</title>

    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />

    <link href="~/Content/modern-business.css" rel="stylesheet" />

    <link href="~/Content/font-awesome.min.css" rel="stylesheet" />
    <script src="~/Scripts/bootstrap.js"></script>
</head>
<body>
    <div class="container">
        <h1> Your Profile</h1>
        <hr>
        <div class="row">
            <!-- left column -->
            <div class="col-md-3">
                 
            </div>

           
            <!-- edit form column -->
            <div class="col-md-9 personal-info">
                <div class="alert alert-info alert-dismissable">
                    
                    Register for Course
                </div>
                <h3>Personal info</h3>
 
                 
         <!--       @using (Html.BeginForm("AfterSignup", "Login", FormMethod.Post, new { @class = "form-horizontal" }))
                {
                    <div class="form-group">
                         @Html.ValidationSummary(true)
                        @Html.AntiForgeryToken()
                        @Html.LabelFor(m => m.FName, new { @class = "col-lg-3 control-label" })
                        <div class="col-lg-8">
                        @Html.TextBoxFor(x => x.FName, new { @class = "form-control" })
                            
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.LName, new { @class = "col-lg-3 control-label" } )
                        <div class="col-lg-8">
                        @Html.TextBoxFor(x => x.LName, new { @class = "form-control" })
                        </div>
                    </div>
                     
                    <div class="form-group">
                     @Html.LabelFor(m => m.Email, new { @class = "col-lg-3 control-label" })
                       
                         <div class="col-lg-8">
                            @Html.TextBoxFor(x => x.Email, new { @class = "form-control"  , id="UserName"})
                             <input type="button" id="b1" value="Check" />
                            @ViewBag.fake
                            <div id="result"></div>
                            @Scripts.Render("~/bundles/jquery")
                            <script>

                                $(document).ready(function () {

                                    $('#checking').hide();

                                    $('#b1').click(function () {

                                        var userName = $('#UserName').val();

                                        //alert('User Name ='+ userName);
                                        $('#checking').show();
                                        $.getJSON("/Login/CheckUserName?UserName=" + userName, function (data) {
                                            $('#checking').hide();
                                            if (data) {
                                                $('#result').text("User already exists in database");

                                            }
                                            else {
                                                $('#result').text("You have a Unique username");
                                            }
                                        });

                                    });

                                });
                            </script>
                        </div>
                        
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Course</label>
                        <div class="col-lg-8">
                            <div class="ui-select">
                                <select id="user_time_zone" class="form-control" name="Course">
                                    <option value="PHP">PHP</option>
                                    <option value="JavaScript">Java Script</option>
                                    <option value="Java">Java</option>
                                     
                                      

                                    @foreach (var c in ViewBag.courses)
                                    {
                                        //string q = c.CourseName;
                                        //li2.Add(q);
                                        
                                       <option value="@c">@c</option>
                                         
                                    }

                                    }
                                     
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        @Html.LabelFor(m => m.Password, new { @class = "col-lg-3 control-label" })
                        <div class="col-md-8">
                        @Html.TextBoxFor(x => x.Password, new { @class = "form-control" })
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="col-md-3 control-label"></label>
                        <div class="col-md-8">
                            <input type="submit" class="btn btn-primary"  value="Register" >
                            <span></span>
                            <input type="reset" class="btn btn-default" value="Cancel">

                            <hr>
                            <div class="col-md-6">
                                <a class="btn btn-lg btn-success btn-block" href="/Login/Login">Already Register </a>

                            </div>
                        </div> 
                    </div>
                }

                -->

          <form class="form-horizontal" role="form" action="/Login/AfterSignup">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">First name:</label>
                        <div class="col-lg-8">
                            <input class="form-control" type="text" placeholder="First Name" name="FName" required="required">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Last name:</label>
                        <div class="col-lg-8">
                            <input class="form-control" type="text" placeholder="Last Name" name="LName" required="required">
                        </div>
                    </div>
                     
                    <div class="form-group">
                     <label class="col-lg-3 control-label">Email:</label>
                        <div class="col-lg-8">
                            <input class="form-control" type="email" placeholder="Enter your Email"   name="Email" required="required">
                            @ViewBag.fake

                            
                            @*<input type="button" id="b1" value="Check" />
                            @ViewBag.fake
                            <div id="result"></div>
                            @Scripts.Render("~/bundles/jquery")
                            <script>

                                $(document).ready(function () {

                                    $('#checking').hide();

                                    $('#b1').click(function () {

                                        var userName = $('#Email').val();

                                        //alert('User Name ='+ userName);
                                        $('#checking').show();
                                        $.getJSON("/Login/CheckUserName?Email=" + userName, function (data) {
                                            $('#checking').hide();
                                            if (data) {
                                                $('#result').text("User already exists in database");

                                            }
                                            else {
                                                $('#result').text("You have a Unique username");
                                            }
                                        });

                                    });

                                });
                            </script>*@



 
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Course</label>
                        <div class="col-lg-8">
                            <div class="ui-select">
                                <select id="user_time_zone" class="form-control" name="Course">
                                    <option value="PHP">PHP</option>
                                    <option value="JavaScript">Java Script</option>
                                    <option value="Java">Java</option>
                                     
                                     @{DBMSEntities ctx = new DBMSEntities();
                                    List<Course> li = ctx.Courses.ToList();
                                    List<string> li2 = new List<string>();
                                    var qry = ctx.Courses.Select(x => x);

                                    foreach (Course c in qry)
                                    {
                                        string q = c.CourseName;
                                        //li2.Add(q);
                                        
                                       <option value="@q">@q</option>
                                         
                                    }

                                    }
                                     
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="col-md-3 control-label">Password:</label>
                        <div class="col-md-8">
                            <input class="form-control" type="password" value="123" name="Password" required="required">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="col-md-3 control-label"></label>
                        <div class="col-md-8">
                            <input type="submit" class="btn btn-primary"  value="Register" >
                            <span></span>
                            <input type="reset" class="btn btn-default" value="Cancel">

                            <hr>
                            <div class="col-md-6">
                                <a class="btn btn-lg btn-success btn-block" href="/Login/Login">Already Register </a>

                            </div>
                        </div> 
                    </div>
                </form>
               

            </div>
        </div>
    </div>
    <hr>
</body>
</html>
